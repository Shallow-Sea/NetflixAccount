# 奈飞账号分享管理系统

一个现代化的Netflix账号分享管理系统，支持分享页生成、用户管理、激活控制等功能。

## 功能特性

### 🎯 核心功能
- **Netflix账号管理** - 添加、删除、状态监控
- **分享页系统** - 生成、激活、时间控制
- **用户管理** - 注册、登录、权限控制
- **激活系统** - 支持天卡/周卡/月卡/季度卡/半年卡/年卡
- **批量导出** - txt/excel/CSV格式导出分享链接
- **公告系统** - HTML/Markdown格式，弹窗公告

### 🔧 管理功能
- **管理员仪表板** - 数据统计和概览
- **用户权限管理** - 多级权限控制
- **分享页批量生成** - 支持批量创建分享链接
- **激活日志** - 详细的激活记录跟踪
- **数据导出** - 支持多种格式导出

### 🎨 界面特性
- **现代化UI** - 基于Bootstrap 5的响应式设计
- **直观操作** - 用户友好的界面设计
- **实时反馈** - Toast消息提示
- **移动友好** - 完美支持移动设备

## 技术栈

- **后端**: PHP 7.4+
- **数据库**: MySQL 5.7+
- **前端**: Bootstrap 5, JavaScript ES6+
- **编辑器**: Quill (HTML), EasyMDE (Markdown)

## 安装部署

### 环境要求

- PHP 7.4 或更高版本
- MySQL 5.7 或更高版本
- Web服务器 (Apache/Nginx)
- PDO MySQL 扩展

### 部署步骤

1. **下载代码**
   ```bash
   # 将项目文件上传到您的Web服务器目录
   ```

2. **配置数据库**
   ```php
   // 编辑 config/database.php
   define('DB_HOST', 'localhost');      // 数据库主机
   define('DB_USERNAME', 'your_user');   // 数据库用户名
   define('DB_PASSWORD', 'your_pass');   // 数据库密码
   define('DB_DATABASE', 'netflix_share'); // 数据库名
   ```

3. **设置文件权限**
   ```bash
   chmod 755 -R /path/to/project
   chmod 644 config/database.php
   ```

4. **访问系统**
   ```
   打开浏览器访问: http://yourdomain.com/
   首次访问会自动初始化数据库
   ```

### 默认账号

**管理员账号**
- 用户名: `admin`
- 密码: `password`

> ⚠️ 首次登录后请立即修改默认密码！

## 使用指南

### 管理员操作

#### 1. Netflix账号管理
- 添加Netflix账号 (邮箱、密码、套餐类型)
- 监控账号状态 (活跃、过期、封禁)
- 管理配置文件使用情况

#### 2. 分享页创建
- 选择Netflix账号
- 设置卡类型 (天卡到年卡)
- 批量生成分享链接
- 导出分享链接 (TXT/CSV/Excel)

#### 3. 用户管理
- 查看注册用户
- 管理用户状态
- 查看用户分享页使用情况

#### 4. 公告管理
- 创建HTML/Markdown公告
- 设置弹窗公告和显示时长
- 管理公告优先级

### 用户操作

#### 1. 账号注册登录
- 用户名/密码注册
- 可选填写邮箱联系方式

#### 2. 分享页激活
- 通过分享链接访问
- 点击激活按钮启用账号
- 获取Netflix登录信息

#### 3. 账号使用
- 复制Netflix邮箱和密码
- 前往Netflix官网登录
- 创建个人用户配置文件

## 系统架构

### 目录结构
```
netflix-share/
├── admin/                 # 管理员页面
│   ├── accounts.php      # 账号管理
│   ├── users.php         # 用户管理
│   ├── share-pages.php   # 分享页管理
│   └── announcements.php # 公告管理
├── assets/               # 静态资源
│   ├── css/             # 样式文件
│   └── js/              # JavaScript文件
├── config/               # 配置文件
│   └── database.php     # 数据库配置
├── includes/            # 公共文件
│   └── functions.php    # 核心函数
├── index.php            # 主页
├── login.php            # 登录页面
├── share.php            # 分享页面
├── profile.php          # 个人资料
└── database_design.sql  # 数据库设计
```

### 数据库设计

#### 主要数据表
- `admins` - 管理员账号
- `users` - 用户账号
- `netflix_accounts` - Netflix账号池
- `share_pages` - 分享页记录
- `activation_logs` - 激活日志
- `announcements` - 系统公告
- `system_configs` - 系统配置

## 安全特性

### 数据安全
- 密码哈希存储 (bcrypt)
- SQL注入防护 (PDO预处理)
- XSS攻击防护 (输入过滤)
- CSRF保护

### 访问控制
- 基于会话的身份验证
- 管理员权限分离
- 页面访问权限检查

## 自定义配置

### 系统设置
通过 `system_configs` 表可以配置:
- 网站名称
- 注册开关
- 各类卡片价格
- 用户限制等

### 主题自定义
修改 `assets/css/style.css` 可以自定义界面样式

## 常见问题

### Q: 忘记管理员密码怎么办？
A: 可以直接在数据库中重置，或删除管理员后重新初始化系统。

### Q: 如何备份数据？
A: 定期导出MySQL数据库，建议使用mysqldump命令。

### Q: 分享页激活后还能修改吗？
A: 分享页激活后状态不可逆，但管理员可以删除重新创建。

### Q: 支持多语言吗？
A: 当前版本为中文版，可以根据需要进行本地化。

## 版本更新

### v1.0.0 (初始版本)
- 完整的账号管理系统
- 分享页生成和激活
- 用户管理和权限控制
- 公告系统
- 数据导出功能

## 技术支持

如果您在使用过程中遇到问题，请检查：
1. PHP和MySQL版本是否满足要求
2. 文件权限是否正确设置
3. 数据库连接是否正常
4. 错误日志中的具体信息

## 许可证

本项目仅供学习和研究使用，请勿用于商业用途。

---

**⚠️ 重要提醒**
- 请定期备份数据库
- 及时更新系统密码
- 监控服务器资源使用
- 遵守相关法律法规